name: Vars

on:
  push:
    branches:
      - '*'
    tags:
      - '*'

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Set release version
        id: fcos-version
        run: |
          version=$(jq -r '.architectures.x86_64.artifacts.metal.release' stable.json)
          echo "::set-output name=version:$version"
      - name: vars
        run: |
          echo "${{ steps.fcos-version.outputs.version }}"
      - name: github
        run: |
          echo "${{ toJSON(github) }}"
      - name: env
        run: |
          echo "${{ toJSON(env) }}"
      - name: job
        run: |
          echo "${{ toJSON(job) }}"
      - name: steps
        run: |
          echo "${{ toJSON(steps) }}"
      - name: runner
        run: |
          echo "${{ toJSON(runner) }}"
      - name: needs
        run: |
          echo "${{ toJSON(needs) }}"
